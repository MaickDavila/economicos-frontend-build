import{d as D,a as g,b as F,r as k,o as l,e as c,f as e,g as n,u as a,h as i,i as p,v as f,F as C,j as B,q as r,G,Q as O,_ as M,V as R,N as q,U as H,W as L,c as $,$ as Q,k as I,Y as W,m as P,n as m,t as Y,s as x,x as J}from"./index.aac21346.js";import{U as K}from"./pago.984939f3.js";import{U as X}from"./concepto.fc3d5380.js";import{r as Z,a as ee}from"./ChevronRightIcon.c5e4336d.js";import{r as te}from"./CashIcon.2fac4f27.js";const oe={class:"bg-white shadow"},se={class:"px-4 sm:px-6 lg:max-w-6xl lg:mx-auto lg:px-8"},ae={class:"py-6 lg:border-t lg:border-gray-200"},ne={class:"flex-1 min-w-0"},le={class:"sm:hidden","aria-label":"Back"},ie={href:"#",class:"flex items-center text-sm font-medium text-gray-500 hover:text-gray-700"},re=m(" Back "),ce={class:"hidden sm:flex","aria-label":"Breadcrumb"},de={role:"list",class:"flex items-center space-x-4"},me={class:"flex"},ue=m(" Home "),pe={class:"flex items-center"},fe=m(" Ver pagos "),xe={class:"mt-2 md:flex md:items-center md:justify-between"},_e=e("div",{class:"flex-1 min-w-0"},[e("h2",{class:"text-2xl font-bold leading-7 text-primary-700 sm:text-3xl sm:truncate"}," Lista de pagos ")],-1),ge={class:"mt-4 flex-shrink-0 flex md:mt-0 md:ml-4"},ye=e("label",{for:"buscar",class:"sr-only"},"Buscar",-1),he=e("div",{class:"md:flex md:items-center md:justify-between lg:border-t lg:border-gray-200"},null,-1),be=e("h2",{class:"max-w-6xl mx-auto mt-8 px-4 text-lg leading-6 font-medium text-gray-900 sm:px-6 lg:px-8"}," Recent activity ",-1),ve={class:"hidden sm:block"},we={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},ke={class:"flex flex-col mt-2"},Ce={class:"align-middle min-w-full overflow-x-auto shadow overflow-hidden sm:rounded-lg"},Ve={class:"min-w-full divide-y divide-gray-200"},Ne=e("thead",null,[e("tr",null,[e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," CONCEPTO "),e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," PERSONA "),e("th",{class:"px-6 py-3 bg-gray-50 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," IMPORTE "),e("th",{class:"hidden px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider md:table-cell"}," ESTADO "),e("th",{class:"hidden px-6 py-3 bg-gray-50 text-right text-xs font-medium text-gray-500 uppercase tracking-wider md:table-cell"}," Validado "),e("th",{class:"px-6 py-3 bg-gray-50 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," FECHA ")])],-1),Se={key:0,class:"bg-white divide-y divide-gray-200"},Ue={class:"max-w-0 w-full px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Be={class:"flex"},Oe=["onClick"],$e={class:"text-gray-500 truncate group-hover:text-gray-900"},Ie={class:"px-6 py-4 text-right whitespace-nowrap text-sm text-gray-500"},Pe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},je=m(" S/ "),Ee={class:"text-gray-900 font-medium"},Te={class:"hidden px-6 py-4 whitespace-nowrap text-sm text-gray-500 md:table-cell"},Ae={class:"hidden px-6 py-4 whitespace-nowrap text-sm text-gray-500 md:table-cell"},ze={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},De={key:1,class:"bg-white divide-y divide-gray-200"},Fe=e("tr",{class:"bg-white"},[e("td",{class:"max-w-0 w-full whitespace-nowrap text-sm text-gray-900",colspan:"5"},[e("div",{class:"flex item-center text-center justify-center w-full px-6 py-4 text-gray-500"}," No se encontraron registros ")])],-1),Ge=[Fe],Me={class:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6","aria-label":"Pagination"},Re={class:"hidden sm:block"},qe={class:"text-sm text-gray-700"},He=m(r(" ")+" "),Le={class:"font-medium"},Qe=m(" "+r(" ")+" resultados "),We={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Ye=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"\u200B",-1),Je={class:"relative inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Ke={action:"#",method:"POST"},Xe={class:"shadow sm:rounded-md sm:overflow-hidden"},Ze={class:"bg-white py-6 px-4 space-y-6 sm:p-6"},et={class:"text-lg leading-6 font-medium text-gray-900"},tt={key:0},ot={key:1},st=m(" Pago "),at=e("p",{class:"mt-1 text-sm text-gray-500"}," POSTGRADO-UNAP ",-1),nt={class:"grid grid-cols-6 gap-6"},lt=m(" Asignar Concepto "),it={class:"relative mt-1"},rt={class:"flex"},ct={class:"col-span-6"},dt=e("label",{for:"concepto",class:"block text-sm font-medium text-gray-700"},"Nombre Cliente",-1),mt={class:"col-span-6 sm:col-span-3"},ut=e("label",{for:"codigo-pago",class:"block text-sm font-medium text-gray-700"},"Numero Documento",-1),pt={class:"col-span-6 sm:col-span-3"},ft=e("label",{for:"codigo-pago",class:"block text-sm font-medium text-gray-700"},"Numero Operaci\xF3n",-1),xt={class:"col-span-6 sm:col-span-3"},_t=e("label",{for:"codigo-pago",class:"block text-sm font-medium text-gray-700"},"Fecha",-1),gt={class:"col-span-6 sm:col-span-3"},yt=e("label",{for:"costo",class:"block text-sm font-medium text-gray-700"},"Importe",-1),ht={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},bt=D({setup(vt){const d=K(),v=g(""),_=g(!1),s=g({id:0,nombre_cliente:"",numero_documento:"",numero_operacion:"",fecha_operacion:"",monto:0,is_active:!0,concepto:0,concepto_nombre:"",is_conciliado:!1,numero_conciliacion:"",is_validado:!1}),V=h=>h?"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize bg-green-100 text-green-800":"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize bg-yellow-100 text-yellow-800",w=g(""),y=X(),u=g({});F(()=>{d.set_pagos(""),y.set_conceptos("")});const N=async()=>{s.value={id:0,nombre_cliente:"",numero_documento:"",numero_operacion:"",fecha_operacion:"",monto:0,is_active:!0,concepto:0,is_conciliado:!1,is_validado:!1,concepto_nombre:"",numero_conciliacion:""},u.value={},_.value=!1},j=()=>{s.value.monto=u.value.precio,s.value.concepto=u.value.id},E=async h=>{const o=await d.set_concepto_by_id(h);s.value.id=o.id,s.value.nombre_cliente=o.nombre_cliente,s.value.numero_documento=o.numero_documento,s.value.numero_operacion=o.numero_operacion,s.value.fecha_operacion=o.fecha_operacion,s.value.monto=o.monto,u.value=y.find_conceptos_by_id(o.concepto)||{},s.value.concepto=u.value.id,_.value=!0},T=async()=>{await d.save_pago(s.value),Y("pago guardado",{type:"success",timeout:1e3}),d.set_pagos(""),N()};return(h,o)=>{const S=k("router-link"),A=k("SelectorIcon"),z=k("CheckIcon");return l(),c(C,null,[e("div",oe,[e("div",se,[e("div",ae,[e("div",ne,[e("nav",le,[e("a",ie,[n(a(Z),{class:"flex-shrink-0 -ml-1 mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"}),re])]),e("nav",ce,[e("ol",de,[e("li",null,[e("div",me,[n(S,{to:"home",class:"text-sm font-medium text-gray-500 hover:text-gray-700"},{default:i(()=>[ue]),_:1})])]),e("li",null,[e("div",pe,[n(a(ee),{class:"flex-shrink-0 h-5 w-5 text-gray-400","aria-hidden":"true"}),n(S,{to:"conceptos",class:"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700"},{default:i(()=>[fe]),_:1})])])])])]),e("div",xe,[_e,e("div",ge,[e("div",null,[ye,p(e("input",{id:"buscar","onUpdate:modelValue":o[0]||(o[0]=t=>v.value=t),type:"search",name:"buscar",class:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Buscar pago",onInput:o[1]||(o[1]=t=>a(d).set_pagos(v.value))},null,544),[[f,v.value]])]),e("button",{type:"button",class:"ml-3 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-500 hover:bg-cyan-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:o[2]||(o[2]=t=>_.value=!0)}," Nuevo pago ")])])]),he])]),be,e("div",ve,[e("div",we,[e("div",ke,[e("div",Ce,[e("table",Ve,[Ne,a(d).pagos.length>0?(l(),c("tbody",Se,[(l(!0),c(C,null,B(a(d).pagos,t=>(l(),c("tr",{key:t.id,class:"bg-white"},[e("td",Ue,[e("div",Be,[e("a",{class:"group inline-flex space-x-2 truncate text-sm cursor-pointer",onClick:b=>E(t.id)},[n(a(te),{class:"flex-shrink-0 h-5 w-5 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),e("p",$e,r(t.concepto_nombre),1)],8,Oe)])]),e("td",Ie,r(t.nombre_cliente),1),e("td",Pe,[je,e("span",Ee,r(t.monto),1)]),e("td",Te,[e("span",{class:x(V(t.is_conciliado))},r(t.is_conciliado?"Conciliado":"Ingresado"),3)]),e("td",Ae,[e("span",{class:x(V(t.is_validado))},r(t.is_validado?"SI":"NO"),3)]),e("td",ze,[e("time",null,r(t.fecha_operacion),1)])]))),128))])):(l(),c("tbody",De,Ge))]),e("nav",Me,[e("div",Re,[e("p",qe,[He,e("span",Le,r(a(d).pagos.length),1),Qe])])])])])])]),n(a(W),{as:"template",show:_.value},{default:i(()=>[n(a(G),{as:"div",class:"fixed z-10 inset-0 overflow-y-auto",onClose:o[12]||(o[12]=t=>_.value=!1)},{default:i(()=>[e("div",We,[n(a(O),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>[n(a(M),{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})]),_:1}),Ye,n(a(O),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:i(()=>[e("div",Je,[e("form",Ke,[e("div",Xe,[e("div",Ze,[e("div",null,[e("h3",et,[s.value.id==0?(l(),c("span",tt,"Nuevo")):(l(),c("span",ot,"Modificar")),st]),at]),e("div",nt,[n(a(R),{modelValue:u.value,"onUpdate:modelValue":o[4]||(o[4]=t=>u.value=t),as:"div",class:"col-span-6"},{default:i(()=>[n(a(q),{class:"block text-sm font-medium text-gray-700"},{default:i(()=>[lt]),_:1}),e("div",it,[n(a(H),{class:"w-full rounded-md border border-gray-300 bg-white py-2 pl-3 pr-10 shadow-sm focus:border-info focus:outline-none focus:ring-1 focus:ring-info sm:text-sm",autocomplete:"off","display-value":t=>t.nombre||"",onChange:o[3]||(o[3]=t=>w.value=t.target.value)},null,8,["display-value"]),n(a(L),{class:"absolute inset-y-0 right-0 flex items-center rounded-r-md px-2 focus:outline-none"},{default:i(()=>[n(A,{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1}),a(y).filter_conceptos_by_nombre(w.value).length>0?(l(),$(a(Q),{key:0,class:"absolute z-10 mt-1 max-h-28 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:i(()=>[(l(!0),c(C,null,B(a(y).filter_conceptos_by_nombre(w.value),t=>(l(),$(a(J),{key:t.id,value:t,as:"template",onClick:j},{default:i(({active:b,selected:U})=>[e("li",{class:x(["relative cursor-default select-none py-2 pl-3 pr-9",b?"bg-info text-white":"text-gray-900"])},[e("div",rt,[e("span",{class:x(["truncate",U&&"font-semibold"])},r(t.nombre),3),e("span",{class:x(["ml-2 truncate text-gray-500",b?"text-indigo-200":"text-gray-500"])},r(t.codigo),3)]),U?(l(),c("span",{key:0,class:x(["absolute inset-y-0 right-0 flex items-center pr-4",b?"text-white":"text-info"])},[n(z,{class:"h-5 w-5","aria-hidden":"true"})],2)):I("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})):I("",!0)])]),_:1},8,["modelValue"]),e("div",ct,[dt,p(e("input",{id:"concepto","onUpdate:modelValue":o[5]||(o[5]=t=>s.value.nombre_cliente=t),type:"text",name:"concepto",autocomplete:"of",class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-info focus:border-info sm:text-sm"},null,512),[[f,s.value.nombre_cliente]])]),e("div",mt,[ut,p(e("input",{id:"codigo-pago","onUpdate:modelValue":o[6]||(o[6]=t=>s.value.numero_documento=t),type:"text",name:"codigo-pago",autocomplete:"off",class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-info focus:border-info sm:text-sm"},null,512),[[f,s.value.numero_documento]])]),e("div",pt,[ft,p(e("input",{id:"codigo-pago","onUpdate:modelValue":o[7]||(o[7]=t=>s.value.numero_operacion=t),type:"text",name:"codigo-pago",autocomplete:"off",class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-info focus:border-info sm:text-sm"},null,512),[[f,s.value.numero_operacion]])]),e("div",xt,[_t,p(e("input",{id:"codigo-pago","onUpdate:modelValue":o[8]||(o[8]=t=>s.value.fecha_operacion=t),type:"date",name:"codigo-pago",autocomplete:"off",class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-info focus:border-info sm:text-sm"},null,512),[[f,s.value.fecha_operacion]])]),e("div",gt,[yt,p(e("input",{id:"costo","onUpdate:modelValue":o[9]||(o[9]=t=>s.value.monto=t),type:"number",name:"costo",autocomplete:"of",class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-info focus:border-info sm:text-sm"},null,512),[[f,s.value.monto]])])])])])]),e("div",ht,[e("button",{type:"button",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-info text-base font-medium text-white hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-info sm:ml-3 sm:w-auto sm:text-sm",onClick:o[10]||(o[10]=t=>T())}," Guardar "),e("button",{ref:"cancelButtonRef",type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-info sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:o[11]||(o[11]=t=>N())}," Cancelar ",512)])])]),_:1})])]),_:1})]),_:1},8,["show"])],64)}}});typeof P=="function"&&P(bt);export{bt as default};
