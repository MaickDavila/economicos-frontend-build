import{d as M,a,b as P,r as j,o as r,e as u,f as e,g as l,h as i,u as s,N as D,U as E,W as z,c as N,F as U,j as A,$ as I,k as y,V as $,i as c,v as w,l as q,n as J,t as F,x as R,s as m,q as C,p as T}from"./index.aac21346.js";import{u as W,r as G}from"./reporte.edaaa992.js";import{U as L}from"./programa.9bd880dd.js";const O={class:"bg-white shadow"},H={class:"px-4 sm:px-6 lg:max-w-6xl lg:mx-auto lg:px-8"},K={class:"py-6 lg:border-t lg:border-gray-200"},Q={class:"mt-2 md:flex-5 md:items-center md:justify-between"},X=e("div",{class:"flex-2 min-w-0 mb-5"},[e("h2",{class:"text-2xl font-bold leading-7 text-primary-700 sm:text-3xl sm:truncate pr-5"}," Reporte Por Programas ")],-1),Y={class:"mt-4 flex-shrink-0 flex md:mt-0 md:justify-between"},Z={class:"flex flex-col w-10/12"},ee={class:"flex flex-row"},oe={class:"pr-12 w-10/12"},te=J(" Seleccione el programa "),se={class:"relative mt-1"},ae={class:"flex"},re={class:"pr-12 w-2/12"},le=e("label",{for:"promocion",class:"text-xs"},"Promoci\xF3n:",-1),ne={class:"flex flex-row mt-4"},ie={class:"pr-12 w-3/12"},de=e("label",{for:"a\xF1o",class:"text-xs"},"A\xF1o:",-1),ue={class:"pr-12 w-3/12"},ce=e("label",{for:"mes",class:"text-xs"},"Mes:",-1),me=T('<option value="1"> Enero </option><option value="2"> Febrero </option><option value="3"> Marzo </option><option value="4"> Abril </option><option value="5"> Mayo </option><option value="6"> Junio </option><option value="7"> Julio </option><option value="8"> Agosto </option><option value="8"> Setiembre </option><option value="10"> Octubre </option><option value="11"> Noviembre </option><option value="12"> Diciembre </option>',12),pe=[me],fe={class:"pr-12 w-3/12"},xe=e("label",{for:"fecha",class:"text-xs"},"Dia:",-1),_e={class:"flex flex-row w-10/12 w-2/12"},ve={class:"md:items-center"},ge=e("div",{class:"md:flex md:items-center md:justify-between lg:border-t lg:border-gray-200"},null,-1),be={key:0},he=e("div",{class:"px-4 sm:px-6 lg:px-8"},null,-1),ye=[he],Ne=M({setup(we){const p=a(""),f=a(""),x=a(""),_=a(""),v=a(""),k=W(),g=L(),b=a({}),V=a(null);P(()=>{g.set_programas()});const B=async d=>{d==null&&(d="");const{status:t,data:n}=await k.get_reporte_programas_excel(d,_.value,f.value,x.value,p.value)||{};if(t!==200){F("Error al exportar excel",{type:"danger",hideProgressBar:!0});return}if(n.cantidad===0){F("No hay registros para exportar",{type:"danger",hideProgressBar:!0});return}V.value=n;const o=document.createElement("a");o.target="_blank",o.href=k.get_media_url(n.path),o.click()};return(d,t)=>{const n=j("SelectorIcon");return r(),u(U,null,[e("div",O,[e("div",H,[e("div",K,[e("div",Q,[X,e("div",Y,[e("div",Z,[e("div",ee,[e("div",oe,[l(s($),{modelValue:b.value,"onUpdate:modelValue":t[1]||(t[1]=o=>b.value=o),as:"div",class:"col-span-12"},{default:i(()=>[l(s(D),{class:"block text-sm font-medium text-gray-700"},{default:i(()=>[te]),_:1}),e("div",se,[l(s(E),{class:"w-full rounded-md border border-gray-300 bg-white py-2 pl-3 pr-10 shadow-sm focus:border-info focus:outline-none focus:ring-1 focus:ring-info sm:text-sm",autocomplete:"off","display-value":o=>o.nombre||"",onChange:t[0]||(t[0]=o=>v.value=o.target.value)},null,8,["display-value"]),l(s(z),{class:"absolute inset-y-0 right-0 flex items-center rounded-r-md px-2 focus:outline-none"},{default:i(()=>[l(n,{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1}),s(g).filter_programas_by_nombre(v.value).length>0?(r(),N(s(I),{key:0,class:"absolute z-10 mt-1 max-h-28 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:i(()=>[(r(!0),u(U,null,A(s(g).filter_programas_by_nombre(v.value),o=>(r(),N(s(R),{key:o.id,value:o,as:"template"},{default:i(({active:h,selected:S})=>[e("li",{class:m(["relative cursor-default select-none py-2 pl-3 pr-9",h?"bg-info text-white":"text-gray-900"])},[e("div",ae,[e("span",{class:m(["truncate",S&&"font-semibold"])},C(o.nombre),3),e("span",{class:m(["ml-2 truncate text-gray-500",h?"text-indigo-200":"text-gray-500"])},C(o.codigo),3)]),S?(r(),u("span",{key:0,class:m(["absolute inset-y-0 right-0 flex items-center pr-4",h?"text-white":"text-info"])},[l(s(G),{class:"h-5 w-5","aria-hidden":"true"})],2)):y("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})):y("",!0)])]),_:1},8,["modelValue"])]),e("div",re,[le,c(e("input",{id:"promocion","onUpdate:modelValue":t[2]||(t[2]=o=>_.value=o),type:"text",name:"promocion",class:"mt-0 shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,512),[[w,_.value]])])]),e("div",ne,[e("div",ie,[de,c(e("input",{id:"a\xF1o","onUpdate:modelValue":t[3]||(t[3]=o=>f.value=o),type:"text",name:"a\xF1o",class:"mt-0 shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,512),[[w,f.value]])]),e("div",ue,[ce,c(e("select",{"onUpdate:modelValue":t[4]||(t[4]=o=>x.value=o),class:"mt-0 shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md"},pe,512),[[q,x.value]])]),e("div",fe,[xe,c(e("input",{id:"fecha","onUpdate:modelValue":t[5]||(t[5]=o=>p.value=o),type:"text",name:"fecha",class:"mt-0 shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,512),[[w,p.value]])])])]),e("div",_e,[e("div",ve,[e("button",{type:"button",class:"ml-0 w-full items-center px-4 border border-transparent mt-9 rounded-md shadow-sm font-medium text-white bg-primary-500 hover:bg-cyan-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:t[6]||(t[6]=o=>B(b.value.id))}," Imprimir ")])])])])]),ge])]),V.value?(r(),u("div",be,ye)):y("",!0)],64)}}});export{Ne as default};
