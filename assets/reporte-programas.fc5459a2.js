import{d as B,a as d,b as C,r as N,o as r,e as c,f as e,g as a,h as n,u as o,N as U,U as j,W as P,c as w,F as k,j as E,$ as F,k as _,V as I,i as $,v as q,n as z,t as x,x as D,s as u,q as S}from"./index.f6b6f3bb.js";import{u as M,r as R}from"./reporte.1d227498.js";import{U as T}from"./programa.d5067586.js";const W={class:"bg-white shadow"},G={class:"px-4 sm:px-6 lg:max-w-6xl lg:mx-auto lg:px-8"},L={class:"py-6 lg:border-t lg:border-gray-200"},A={class:"mt-2 md:flex-5 md:items-center md:justify-between"},H=e("div",{class:"flex-2 min-w-0 mb-5"},[e("h2",{class:"text-2xl font-bold leading-7 text-primary-700 sm:text-3xl sm:truncate pr-5"}," Reporte de Programas ")],-1),J={class:"mt-4 flex-shrink-0 flex md:mt-0 md:justify-between"},K={class:"pr-12 w-full"},O=z(" Seleccione el programa "),Q={class:"relative mt-1"},X={class:"flex"},Y={class:"pr-12"},Z=e("label",{for:"fecha"},"Fecha:",-1),ee={class:"md:items-center"},te=e("div",{class:"md:flex md:items-center md:justify-between lg:border-t lg:border-gray-200"},null,-1),se={key:0},oe=e("div",{class:"px-4 sm:px-6 lg:px-8"},null,-1),re=[oe],de=B({setup(ae){const i=d("2022/07/07"),m=d(""),h=M(),p=T(),f=d({}),b=d(null);C(()=>{p.set_programas()});const V=async y=>{if(i.value.length<=0){x("Seleccione una fecha",{type:"danger",hideProgressBar:!0});return}const{status:s,data:l}=await h.get_reporte_programas_excel(y,i.value)||{};if(s!==200){x("Error al exportar excel",{type:"danger",hideProgressBar:!0});return}if(l.cantidad===0){x("No hay registros para exportar",{type:"danger",hideProgressBar:!0});return}b.value=l;const t=document.createElement("a");t.target="_blank",t.href=h.get_media_url(l.path),t.click()};return(y,s)=>{const l=N("SelectorIcon");return r(),c(k,null,[e("div",W,[e("div",G,[e("div",L,[e("div",A,[H,e("div",J,[e("div",K,[a(o(I),{modelValue:f.value,"onUpdate:modelValue":s[1]||(s[1]=t=>f.value=t),as:"div",class:"col-span-12"},{default:n(()=>[a(o(U),{class:"block text-sm font-medium text-gray-700"},{default:n(()=>[O]),_:1}),e("div",Q,[a(o(j),{class:"w-full rounded-md border border-gray-300 bg-white py-2 pl-3 pr-10 shadow-sm focus:border-info focus:outline-none focus:ring-1 focus:ring-info sm:text-sm",autocomplete:"off","display-value":t=>t.nombre||"",onChange:s[0]||(s[0]=t=>m.value=t.target.value)},null,8,["display-value"]),a(o(P),{class:"absolute inset-y-0 right-0 flex items-center rounded-r-md px-2 focus:outline-none"},{default:n(()=>[a(l,{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1}),o(p).filter_programas_by_nombre(m.value).length>0?(r(),w(o(F),{key:0,class:"absolute z-10 mt-1 max-h-28 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:n(()=>[(r(!0),c(k,null,E(o(p).filter_programas_by_nombre(m.value),t=>(r(),w(o(D),{key:t.id,value:t,as:"template"},{default:n(({active:g,selected:v})=>[e("li",{class:u(["relative cursor-default select-none py-2 pl-3 pr-9",g?"bg-info text-white":"text-gray-900"])},[e("div",X,[e("span",{class:u(["truncate",v&&"font-semibold"])},S(t.nombre),3),e("span",{class:u(["ml-2 truncate text-gray-500",g?"text-indigo-200":"text-gray-500"])},S(t.codigo),3)]),v?(r(),c("span",{key:0,class:u(["absolute inset-y-0 right-0 flex items-center pr-4",g?"text-white":"text-info"])},[a(o(R),{class:"h-5 w-5","aria-hidden":"true"})],2)):_("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})):_("",!0)])]),_:1},8,["modelValue"])]),e("div",Y,[Z,$(e("input",{id:"fecha","onUpdate:modelValue":s[2]||(s[2]=t=>i.value=t),type:"date",name:"fecha",class:"mt-0 shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,512),[[q,i.value]])]),e("div",ee,[e("button",{type:"button",class:"ml-0 w-full items-center px-4 border border-transparent mt-9 rounded-md shadow-sm font-medium text-white bg-primary-500 hover:bg-cyan-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:s[3]||(s[3]=t=>V(f.value.id))}," Imprimir ")])])])]),te])]),b.value?(r(),c("div",se,re)):_("",!0)],64)}}});export{de as default};
